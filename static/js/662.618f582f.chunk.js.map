{"version":3,"file":"static/js/662.618f582f.chunk.js","mappings":"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","sources":["components/SearchBar.jsx","pages/MoviesPage.js","servises/api.js"],"sourcesContent":["import { useState } from 'react';\n\nexport const SearchBar = ({ onSubmit }) => {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleChange = e => {\n    setSearchQuery(e.target.value.trim().toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log('query:', searchQuery);\n\n   //  if (searchQuery === '') {\n   //    return;\n   //  }\n    onSubmit(searchQuery);\n    // setSearchQuery('');\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        className=\"\"\n        type=\"text\"\n      //   value={searchQuery}\n        autoFocus\n        onChange={handleChange}\n      ></input>\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\n ","import { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport { SearchBar } from 'components/SearchBar';\nimport { useEffect, useState } from 'react';\nimport * as API from '../servises/api';\n\nconst Movies = () => {\n  const [moviesBySeach, setMoviesBySeach] = useState([]);\n  const [page, setPage] = useState(1);\n\n  const location = useLocation();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const changeQuery = searchQuery => {\n    console.log(searchQuery);\n\n    if (searchQuery === query) return;\n\n\t if (searchQuery === \"\") {\n\t\treturn setSearchParams({});\n\t }\n\n\n\n    setMoviesBySeach([]);\n    setPage(1);\n    setSearchParams({ query: searchQuery });\n  };\n\n  useEffect(() => {\n    API.fetchSerchedMovies(query, page)\n      .then(resp => {\n        //   if (resp.length === 0) {\n        //     alert('no matching results');\n        //   }\n\n        //   setMoviesBySeach(moviesBySeach => [...moviesBySeach, ...resp]);\n        setMoviesBySeach(resp);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, [page, query]);\n\n  return (\n    <div>\n      <SearchBar onSubmit={changeQuery} />\n      <ul>\n        {moviesBySeach.map(item => (\n          <li key={item.id}>\n            <Link to={`/movies/${item.id}`} state={{ from: location }}>\n              {item.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '54ca32600b8d3533c486c2b7fe8c8efb';\n\nexport async function fetchPopularMovies() {\n  const response = await axios.get(\n    `${BASE_URL}trending/movie/week?api_key=${API_KEY}`\n  );\n\n  console.log('responce-popular:', response.data);\n\n  return response.data;\n}\n\nexport async function fetchSerchedMovies(query, page) {\n  const response = await axios.get(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=${page}&include_adult=false`\n  );\n  console.log('responce-serched:', response.data.results);\n\n  return response.data.results;\n}\n\nexport async function fetchMovieDetails(id) {\n  const response = await axios.get(\n    `${BASE_URL}movie/${id}?api_key=${API_KEY}&language=en-US`\n  );\n  console.log('responce-details:', response.data);\n\n  return response.data;\n}\n\nexport async function fetchMovieCast(id) {\n  const response = await axios.get(\n    `${BASE_URL}movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  console.log('responce-cast:', response.data.cast);\n\n  return response.data.cast;\n}\n\nexport async function fetchMovieReviews(id, page) {\n  const response = await axios.get(\n    `${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=${page}`\n  );\n  console.log('responce-reviews:', response.data.results);\n\n  return response.data.results;\n}\n"],"names":["SearchBar","onSubmit","useState","searchQuery","setSearchQuery","e","preventDefault","console","log","className","type","autoFocus","onChange","target","value","trim","toLowerCase","moviesBySeach","setMoviesBySeach","page","setPage","location","useLocation","useSearchParams","searchParams","setSearchParams","query","get","useEffect","API","then","resp","catch","error","map","item","to","id","state","from","title","BASE_URL","API_KEY","fetchPopularMovies","axios","response","data","fetchSerchedMovies","results","fetchMovieDetails","fetchMovieCast","cast","fetchMovieReviews"],"sourceRoot":""}